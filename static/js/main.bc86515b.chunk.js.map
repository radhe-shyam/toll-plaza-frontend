{"version":3,"sources":["App.js","index.js"],"names":["App","initialFormData","registrationNumber","direction","isReturnable","useState","receiptData","setReceiptData","formData","setFormData","isLoading","setIsLoading","handleDirectionButton","event","target","name","preventDefault","handleTollForButton","generateReceipt","a","cancelToken","axios","CancelToken","source","post","token","data","document","getElementsByName","focus","className","onSubmit","type","required","autoFocus","pattern","placeholder","onChange","value","toUpperCase","onClick","_id","colSpan","Date","createdOn","toLocaleString","returnOn","fee","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bc86515b.chunk.js","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n    const initialFormData = { registrationNumber: '', direction: true, isReturnable: false };\n    const [receiptData, setReceiptData] = useState({});\n    const [formData, setFormData] = useState(initialFormData);\n    const [isLoading, setIsLoading] = useState(false);\n    const handleInputChange = event => {\n        const { value } = event.target;\n        setFormData({ ...formData, registrationNumber: value.toUpperCase() });\n    };\n    const handleDirectionButton = event => {\n        setFormData({ ...formData, direction: event.target.name === 'Entering' ? true : false });\n        event.preventDefault();\n    };\n    const handleTollForButton = event => {\n        setFormData({ ...formData, isReturnable: event.target.name === 'true' ? true : false });\n        event.preventDefault();\n    };\n\n    const generateReceipt = async event => {\n        event.preventDefault();\n        if (isLoading) return;\n        setIsLoading(true);\n        try {\n            const cancelToken = axios.CancelToken.source();\n            const { data } = await axios.post(\n                'https://toll-plaza-backend.herokuapp.com/api/receipt/generate',\n                formData,\n                {\n                    cancelToken: cancelToken.token\n                }\n            );\n            setReceiptData(data.data);\n            setIsLoading(false);\n            setFormData(initialFormData);\n            document.getElementsByName('registrationNumber')[0].focus();\n\n            return data;\n        } catch (err) {\n            setIsLoading(false);\n            return \"Translation can't be done because of invalid key\";\n        }\n    }\n    return (\n        <div>\n            <br />\n            <h1 className=\"ui header center aligned sixteen wide\">Toll Plaza</h1>\n            <div className=\"ui center aligned basic segment divider\">\n                <form onSubmit={generateReceipt}>\n                    <div className=\"ui equal width form\">\n                        <div className=\"fields\">\n                            <div className=\"field\">\n                                <label>Registration Number</label>\n                                <input type=\"text\" required autoFocus pattern=\"^[a-zA-Z0-9]{6,10}$\" placeholder=\"Registration Number\" name='registrationNumber' onChange={handleInputChange} value={formData.registrationNumber} />\n                            </div>\n                            <div className=\"field\">\n                                <label>Direction</label>\n                                <div className=\"ui buttons\">\n                                    <input type=\"button\" name=\"Entering\" onClick={handleDirectionButton} className={`ui button ${formData.direction ? 'active purple' : ''}`} value=\"Entering\" />\n                                    <div className=\"or\"></div>\n                                    <input type=\"button\" value=\"Exiting\" name=\"Exiting\" onClick={handleDirectionButton} className={`ui button ${formData.direction ? '' : 'active purple'}`} />\n                                </div>\n                            </div>\n                            <div className=\"field\">\n                                <label>Toll for</label>\n                                <div className=\"ui buttons\">\n                                    <input type=\"button\" value=\"One Way\" name=\"false\" onClick={handleTollForButton} className={`ui button ${formData.isReturnable ? '' : 'active purple'}`} />\n                                    <div className=\"or\"></div>\n                                    <input type=\"button\" value=\"Return\" name=\"true\" onClick={handleTollForButton} className={`ui button ${formData.isReturnable ? 'active purple' : ''}`} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <br />\n\n                    <div className=\"ui horizontal divider\">\n                        <button type=\"submit\" className={`positive ui button large ${isLoading ? 'loading disabled' : ''}`} >Generate Receipt</button>\n                    </div>\n                </form>\n                {\n                    (receiptData._id) ? (<div className=\"two wide\">\n                        <table className=\"two wide ui small table left aligned\">\n                            <thead className=\"center aligned\">\n                                <tr>\n                                    <th colSpan=\"2\">NHAI Toll Plaza Receipt</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td>Token Number</td>\n                                    <td>{receiptData._id}</td>\n                                </tr>\n                                <tr>\n                                    <td>Created on</td>\n                                    <td>{new Date(receiptData.createdOn).toLocaleString()}</td>\n                                </tr>\n                                {(receiptData.returnOn) ? (<tr>\n                                    <td>Returned on</td>\n                                    <td>{new Date(receiptData.returnOn).toLocaleString()}</td>\n                                </tr>) : null}\n                                <tr>\n                                    <td>Direction</td>\n                                    <td>{receiptData.direction ? 'Entering' : 'Exiting'}</td>\n                                </tr>\n                                <tr>\n                                    <td>Registration Number</td>\n                                    <td>{receiptData.registrationNumber}</td>\n                                </tr>\n                                <tr>\n                                    <td>Toll paid for</td>\n                                    <td>{receiptData.isReturnable ? 'Return' : 'One way'}</td>\n                                </tr>\n                                <tr>\n                                    <td>Fee</td>\n                                    <td>Rs. {receiptData.fee}</td>\n                                </tr>\n                            </tbody>\n                            <tfoot>\n                                <tr>\n                                    <th>Amount Payable</th>\n                                    <th>Rs. {receiptData.returnOn ? 0 : receiptData.fee}</th>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>) : null\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}