(this["webpackJsonptoll-plaza-frontend"]=this["webpackJsonptoll-plaza-frontend"]||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(16),a=n.n(i),s=(n(22),n(6)),l=n.n(s),j=n(17),d=n(3),b=n(4),u=n(7),o=n.n(u),O=(n(42),n(0));var h=function(){var e={registrationNumber:"",direction:!0,isReturnable:!1},t=Object(c.useState)({}),n=Object(b.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(e),s=Object(b.a)(a,2),u=s[0],h=s[1],x=Object(c.useState)(!1),p=Object(b.a)(x,2),m=p[0],v=p[1],f=function(e){h(Object(d.a)(Object(d.a)({},u),{},{direction:"Entering"===e.target.name})),e.preventDefault()},g=function(e){h(Object(d.a)(Object(d.a)({},u),{},{isReturnable:"true"===e.target.name})),e.preventDefault()},N=function(){var t=Object(j.a)(l.a.mark((function t(n){var c,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!m){t.next=3;break}return t.abrupt("return");case 3:return v(!0),t.prev=4,c=o.a.CancelToken.source(),t.next=8,o.a.post("https://toll-plaza-backend.herokuapp.com/api/receipt/generate",u,{cancelToken:c.token});case 8:return r=t.sent,a=r.data,i(a.data),v(!1),h(e),document.getElementsByName("registrationNumber")[0].focus(),t.abrupt("return",a);case 17:return t.prev=17,t.t0=t.catch(4),v(!1),t.abrupt("return","Translation can't be done because of invalid key");case 21:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("h1",{className:"ui header center aligned sixteen wide",children:"Toll Plaza"}),Object(O.jsxs)("div",{className:"ui center aligned basic segment divider",children:[Object(O.jsxs)("form",{onSubmit:N,children:[Object(O.jsx)("div",{className:"ui equal width form",children:Object(O.jsxs)("div",{className:"fields",children:[Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{children:"Registration Number"}),Object(O.jsx)("input",{type:"text",required:!0,autoFocus:!0,pattern:"^[a-zA-Z0-9]{6,10}$",placeholder:"Registration Number",name:"registrationNumber",onChange:function(e){var t=e.target.value;h(Object(d.a)(Object(d.a)({},u),{},{registrationNumber:t.toUpperCase()}))},value:u.registrationNumber})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{children:"Direction"}),Object(O.jsxs)("div",{className:"ui buttons",children:[Object(O.jsx)("input",{type:"button",name:"Entering",onClick:f,className:"ui button ".concat(u.direction?"active purple":""),value:"Entering"}),Object(O.jsx)("div",{className:"or"}),Object(O.jsx)("input",{type:"button",value:"Exiting",name:"Exiting",onClick:f,className:"ui button ".concat(u.direction?"":"active purple")})]})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{children:"Toll for"}),Object(O.jsxs)("div",{className:"ui buttons",children:[Object(O.jsx)("input",{type:"button",value:"One Way",name:"false",onClick:g,className:"ui button ".concat(u.isReturnable?"":"active purple")}),Object(O.jsx)("div",{className:"or"}),Object(O.jsx)("input",{type:"button",value:"Return",name:"true",onClick:g,className:"ui button ".concat(u.isReturnable?"active purple":"")})]})]})]})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"ui horizontal divider",children:Object(O.jsx)("button",{type:"submit",className:"positive ui button large ".concat(m?"loading disabled":""),children:"Generate Receipt"})})]}),r._id?Object(O.jsx)("div",{className:"two wide",children:Object(O.jsxs)("table",{className:"two wide ui small table left aligned",children:[Object(O.jsx)("thead",{className:"center aligned",children:Object(O.jsx)("tr",{children:Object(O.jsx)("th",{colSpan:"2",children:"NHAI Toll Plaza Receipt"})})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Token Number"}),Object(O.jsx)("td",{children:r._id})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Created on"}),Object(O.jsx)("td",{children:new Date(r.createdOn).toLocaleString()})]}),r.returnOn?Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Returned on"}),Object(O.jsx)("td",{children:new Date(r.returnOn).toLocaleString()})]}):null,Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Direction"}),Object(O.jsx)("td",{children:r.direction?"Entering":"Exiting"})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Registration Number"}),Object(O.jsx)("td",{children:r.registrationNumber})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Toll paid for"}),Object(O.jsx)("td",{children:r.isReturnable?"Return":"One way"})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Fee"}),Object(O.jsxs)("td",{children:["Rs. ",r.fee]})]})]}),Object(O.jsx)("tfoot",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Amount Payable"}),Object(O.jsx)("th",{children:r.returnOn?0:r.fee})]})})]})}):null]})]})};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(h,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.08ceb716.chunk.js.map